



Assim, a ideia do stealth address é basicamente, criar um endereço descartável que será utilizado em cada cada transação individual realizada, mesmo que a transação seja direcionada à mesma pessoa que alguma outra transação anterior, mesmo que essa transação anterior também tenha sido realizada por meio de stealth addresses.

------

No entanto, também vale notar que o pagador ainda saberá que o endereço furtivo pertence a aquela pessoa, afinal, normalmente, como é idealizado hoje em dia, o pagador precisa de algum endereço da rede que pertence ao recebedor, porque pra localizar o meta endereço furtivo do recebedor, ele precisa do tal endereço.


----------------------------------------------------------------

FONTS - 
Gil sans, Helvetica, Merriweather, Roboto, Open Sans ,EB Garamond, Lora, Martel, Lato, Inter, Source sans Pro, inter



Certainly! Transparency in blockchain networks has significant implications across various sectors. Let’s explore why it’s important:

Data Visibility and Immutability:
Transparency in Blockchain: Refers to the inherent visibility and openness of the distributed ledger technology.
How It Works: Unlike traditional systems controlled by central authorities, blockchain operates on a decentralized network. Participants can view and verify transactions in real-time.
Immutability: Once data is recorded on the blockchain, it becomes unchangeable. Each block stores a hash of the preceding block, creating an unbroken chain. This permanence ensures data integrity and prevents tampering1.
Trustlessness and Decentralization:
Trustlessness: Blockchain eliminates the need for trust typically required by centralized authorities. Participants can freely interact in an ecosystem without relying on a central entity to ensure transaction integrity.
Decentralization: Blockchain relies on consensus protocols across a network of nodes. Participants unanimously agree to add new blocks, ensuring security and reducing reliance on intermediaries1.
Cybersecurity Benefits:
Challenges Addressed: Users often struggle to know which security vendors to trust. Blockchain’s transparency allows participants to verify claims made by vendors regarding their security solutions.
Immutable Records: Once information is recorded, it cannot be altered or attacked, enhancing trust and integrity.
Secure Interaction: Participants can safely interact without relying on a central authority, protecting information from hackers1.
----


Em transações tradicionais em blockchains públicas, os endereços das carteiras são visíveis na blockchain. Isso significa que qualquer pessoa pode rastrear as transações associadas a determinado endereço. No entanto, essa transparência tem implicações significativas para a privacidade dos usuários.

1. Exposição de Hábitos de Gastos:
Imagine que você está comprando algo online usando criptomoedas. Se o vendedor puder ver seu endereço de carteira, ele também pode acessar todas as suas transações anteriores. Essa visibilidade expõe seus hábitos de gastos, revelando informações como:,

Frequência de Compras: O vendedor pode inferir com que frequência você faz compras online.
Valores Gastos: Ele pode ver os valores exatos que você gastou em diferentes transações.
Padrões de Consumo: Com base nas transações, o vendedor pode deduzir seus interesses e preferências.

2. Risco de Associação de Identidade:
Além dos hábitos de gastos, a exposição do endereço de carteira também pode levar à associação de identidade. Se alguém souber que um determinado endereço pertence a você, poderá:

Vincular ações: Associar suas transações a outras informações disponíveis publicamente (por exemplo, em redes sociais ou fóruns).
Descobrir sua Identidade: Com esforço suficiente, alguém pode descobrir quem você é com base nas transações e outros dados disponíveis.


IMAGES -
streamline, iconify, material design

Vamos falar sobre os stealth addresses, que, pelo que eu entendi, é mais uma das várias soluções que tem como ideia garantir uma melhor privacidade e sigilo de informações sensíveis dos usuários, que estão sendo exploradas, tanto pelo Banco Central quanto o nosso Banco, o Banco do Brasil.


Privacidade e Confidencialidade
Em transações tradicionais, os endereços de carteira são visíveis na blockchain. Isso significa que qualquer pessoa pode rastrear as transações associadas a um determinado endereço. No entanto, essa transparência pode comprometer a privacidade dos usuários.

Imagine que você está comprando algo online usando criptomoedas. Se o vendedor puder ver seu endereço de carteira, ele também pode ver todas as suas transações anteriores. Isso não apenas expõe seus hábitos de gastos, mas também pode revelar informações pessoais.


Imaginando um cenário prático de como seria feita uma transação hoje em dia em uma rede pública, utilizando carteiras comuns, sem a utilização de stealth addresses, vamos imaginar que o Joãozinho, por algum motivo queira mandar 10 DREX pra mim: eu vou mandar o endereço da minha carteira pra ele, e ele, por exemplo, utilizando a Metamask ou algo parecido, vai transacionar esses 10 DREX pro endereço da minha carteira.
Beleza, o problema é que, agora, como o Luciano tem o endereço da minha carteira e sabe que aquela carteira é minha, ou seja, ele sabe a identidade do dono daquela carteira, por consequencia, ele agora tem acesso ao meu histórico completo de transações nessa rede específica desde a minha primeira transação nessa rede, assim, em outras palavras, ele tem, basicamente, acesso à minha vida financeira inteira nessa rede, além de, é claro, ele também pode monitorar todas as minhas futuras transações e pode até mesmo saber o que eu vou fazer com esses 10 DREX que ele me enviou, além de também ter acesso a todas as quantias de tokens, NFTs e etc que eu tenho nessa carteira no momento.

Bom, como a gente sabe, as redes blockchain foram idealizadas com o princípio da transparência em mente, dessa transparência advém algumas coisas boas, como, por exemplo, a possibilidade de qualquer pessoa, participante ou não, verificar alguns dados e informações gravadas na rede, o que, de certo modo, garante uma maior confiança entre os participantes da rede, já que, todos podem, a qualquer momento, verificar todo o histórico de transações na rede, de transação individual à transação individual, podendo também fazer o rastreio de tokens, NFTs, etc e etc, o que, acaba que também fortalece o aspecto da descentralização, já que, aumenta a confiança dos usuários na rede e nas informações ali registradas, já que tudo é auditável. No entanto, apesar dessa transparência ser bem interessante e trazer coisas boas, ela também traz alguns desafios e levanta algumas questões, sendo o foco dessa discussão, a possibilidade de invasão de privacidade, além disso, a transparência também põe em risco a segurança de informaçõe sensíveis, e mesmo expõe toda a vida financeira dos participantes da rede, porque, afinal, por todas transações na rede serem públicas e transparentes, incluindo, também, os valores transacionados, quem transacionou e quem recebeu os valores da transação, além de também deixar público até mesmo as quantias que os usuários tem atualmente suas carteiras na rede, claro, tudo isso é revelado por meio de endereços hexadecimais sem nenhuma conexão direta com nenhuma identidade.

No entanto, vamos imaginar um cenário comum hoje em dia, um cenário em que você deposite dinheiro em alguma exchange centralizada, como, por exemplo, a Binance, a Binance geralmente tem toda sua identidade, com CPF, RG, endereço, número de telefone, e se você transferiu dinheiro pra corretora, pra Binance, nesse caso, a Binance, por inferência, sabe que aquela carteira é sua e pertence a você, e como várias informações da carteira estão completamente públicas na rede, a Binance agora sabe todo seu histórico financeiro na rede e tem acesso a todas as transações que você já fez, incluindo quantias, pra quem você enviou ou de quem você recebeu e etc. e é claro, na rede também é mostrado quantos e quais tokens você tem na carteira, então, basicamente, a Binance agora tem acesso a toda sua vida financeira passada, atual e futura na rede.
E é claro, além de ferir a privacidade da pessoa, pode por em risco a integridade física. Enfim, isso não é lá muito legal em uma rede pública, e é menos ainda no nosso caso, numa rede privada "governamental" suportada e desenvolvida por uma empresa pública que tem que seguir as leis do país, como a LGPD, e é claro, leis do mundo inteiro, no caso dos acordos entre países, a gente tem que proteger as informações sensíveis dos clientes e usuários em geral.


Sem falar que, é claro, não precisa ser algo tão direto e interpessoal assim, porque, se eu depositar esses 10 DREX na minha conta da Binance utilizando , por exemplo, essa carteira como a Binance já tem toda nossa identidade, com CPF, RG, endereço e número de telefone, a Binance, por eu ter utilizado essa mesma carteira para transferir os 10 DREX oara a corretora, agora sabe que aquela carteira na blockchain é minha e, por consequência, também tem acesso a todas essas informações citadas anteriormente, valores atuais na carteira, ou mesmo tem acesso a transação em que o Joãozinho me enviou 10 DREX, ou seja, conseguem rastrear de onde veio esses DREX que eu estou transferindo para a corretora da Binance.

Com tudo isso, essa transparência acaba dificultando o uso de redes blockchain para fins financeiros, mais ainda no nosso caso, numa rede privada "governamental" suportada e desenvolvida por uma empresa pública que tem que seguir as leis do país, como a LGPD, e é claro, leis do mundo inteiro, no caso dos acordos entre países, a gente tem que proteger as informações sensíveis dos clientes e usuários em geral.


E é claro, isso não parece um cenário muito ideal.

Okay, agora que a gente já entendeu o problema, vamos ver então uma possível solução, vamos falar sobre os stealth addresses.

Aqui é onde os stealth addresses, os endereços furtivos entram em cena 
Então, bom, vamos falar sobre os endereços furtivos, que é, aliás, o motivo pra gente estar aqui:

A ideia dos stealth addresses é permitir que os destinatários realizem transações por meio de endereços descartáveis (bom, se a ideia é realmente ser descartável, ainda é motivo de discussão.). Seguindo essa ideia, esses endereços são criados para serem utilizados para cada transação que se deseja realizar.

A ideia dos stealth addresses é, basicamente, aumentar a privacidade de transações realizadas em redes blockchain.
A ideia é permitir que usuários realizem transações sem revelaar a verdadeira identidade da parte passiva da transação, ou seja, do recebedor, assim, aumentando a confidencialidade, segurança das informações sensíveis do usuário.


Stealth addresses são, de certo modo, 


Assim, a ideia do stealth address é basicamente, criar um endereço descartável que será utilizado em uma única transação individual.

Assim, mesmo que duas transações diferentes sejam direciondas a mesma pessoa, as transações aparecerão na rede como se fossem direcionadas a pessoas diferentes, já que as transações serão realizadas com endereços diferentes, eliminando assim qualquer padrão e não mais construindo um histórico contínuo de transações, escondendo o "link" que existe entre o pagador e o recebedor.

No mais, acho bom detalhar e deixar bem claro que, a transação ainda aparece normalmente na rede, então, essencialmente, a maior diferença é que, sem a utilização dos endereços furtivos o pagador vai realizar a transação diretamente com uma carteira que normalmente é usada por um longo tempo e essa mesma carteira é utilizada em várias transações, por exemplo, recebendo ou enviando tokens, ao contrário de como é feito utilizando os endereços furtivos, onde será criado um novo endereço pra cada transação que se deseja realizar.


Numa transação utilizando endereços furtivos temos cinco componentes principais:

Stealth meta-addresses: Concatenação das chaves públicas do par de chaves "view" e "spending".

Par de chaves efêmeras: Um par de chaves geradas pelo pagador, o par de chaves efemeras é único e criado para cada transação que se deseja realizar.

Chave secreta compartilhada: Gerada usando a chave pública do recebedor(ou seja, o endereço público do recebedor) e a chave privada efêmera, que no caso, seria a chave privada do par de chaves que a gente chama de efêmeras, porque a ideia é ser temporária.

Par de chaves "view": par de chaves usada no processo de geração do meta-endereço stealth e também usada no processo de parsing do endereço stealth.

Par de chaves "spending": par de chaves usada no processo de geração do meta-endereço stealth e geração da chave privada do endereço stealth.

Além desses cinco pontos, a gente tem também, é claro, os próprios stealth addresses:

E, agora que já cotei os stealth addresses mais uma vez, vamos lá falar sobre como é feita uma tansação utilizando os endereços furtivos:

1 - Como primeiro passo, o recebedor gera o par de chaves "view" e "spending" e concatena a chave pública do par de "view" com a chave pública do par de "spending", "gerando", assim o stealth meta-address.

2 - Em seguida, ele publica o stealth meta-address na rede por meio do contrato de registry.

3 - Agora, o pagador pode localizar o stealth meta-address desse usuário e dele, o pagador deriva um novo stealth address que será utilizado nessa transação.

4 -  O pagador emite um evento, que, no contrato proposto pelo padrão ERC-5564 tem o nome de "Announcement". No evento emitido, o pagador passa como parâmetro algumas informações relacionadas ao endereço stealth, como, por exemplo, a chave pública da chave secreta, que será utilizada no processo de parsing, e passa também o endereço stealth gerado como parâmetro e alguns metadados.
Os metadados emitidos são definidos pelo próprio pagador na hora de fazer a chamada do método do contrato que emite o evento.
Obervação: O evento é emitido na rede por meio do contrato baseado no padrão de contratos ERC-5564

5 - O pagador então envia as quantias, valores, tokens, NFTs para o endereço furtivo criado no passo anterior.

6 - Agora, então, o recebedor entra em ação:
O recebedor vai percorrer todos os eventos "Announcement" emitidos na rede e realizando diversas operações matemáticas utilizando algumas das informações emitidas junto com o evento. como por exemplo, a chave pública efêmera. chaves, por todos, sim, todos, os endereços furtivos já gerados na rede para verificar a posse dos stealth addresses.

7 - No final dessas operações, o usuário que está fazendo esse processo de escaneamento/parsing na rede saberá se o endereço furtivo relativo a esse evento emitido pertence a ele ou não. Caso sim, ele derivará a chave privada do endereço furtivo e poderá realizar realizar transações com o endereço.

-----


Resumindo essa parte final, ele vai percorrer todos os eventos "announcement" emitidos relativos a endereços furtivos gerados na rede pra descobrir se cada um deles pertence a ele, caso sim, ele poderá transferir os tokens depositados nesse endereço e transferir os tokens depositados no enderereço furtivo.

Um adendo: como essas operações matemáticas são realizadas utilziando algumas chaves privadas do recebedor, ou seja, informações que, pelo menos, em um cenário ideal, só ele teria conhecimento e acesso, não existe a possibilidade de outra pessoa realizar esse processo de escaneamento em um endereço específico do qual ele não tem posse e transferir os tokens ali depositados sem que o usuário tenha posse da chave privada pertencente ao recebedor.

Notas:
Somente o recebedor pode transferir os tokens depositados no stealth address porque, pra transferir os tokens, como de costume, é necessário a chave privada do endereço stealth para se assinar as transações realizadas pelo endereço, e o único meio de se obter a chave privada do endereço stealth é por meio da chave privada de spending relativa ao endereço stealth, que só o recebedor deve ter acesso.
tendo posse da chave privada de spending relativa a aquele endereço, e a chave privada relativa ao endereço é a chave privada de spending do recebedor.


Agora, vamos falar um pouco mais sobre os motivos de utilizar stealth addresses.
Primeiro, os stealth addresses permitem que transações sejam realizadas sem que seja possível identificar um link entre o pagador e o recebedor, porque, ao invés da transação ser realizada direcionada a uma carteira central do recebedor, como comumente acontece hoje em dia, onde um usuário cria uma carteira na blockchain e utiliza essa mesma carteira por um longo tempo, realizando diversas e diversas transações utilizando a mesma carteira, e, assim, criando um histórico de transações imutáveis ao longo do tempo, ao contrário de como é feito utilizando endereços furtivos, onde cada transação individual realizada pelo usuário, seja como recebedor o ou pagador, é realizada utilizando endereços únicos e diferentes um dos outros, assim, não é criado um ponto central onde transações são iniciadas ou "recebidas", entre aspas, mitigando os riscos que nascem quando é utilizado o mesmo endereço para múltiplas transações.

Mais uma nota: 



Why Use Stealth Addresses?

Enhanced Privacy: Transactions can't be easily linked to a single public address.
Improved Fungibility: Makes it harder to trace the history of coins, enhancing their fungibility.
Protection Against Address Reuse: Mitigates risks associated with reusing the same address for multiple transactions.
Reduced Correlation: Makes it more difficult for third parties to correlate transactions and build user profiles.



DESAFIOS E CONSIDERAÇÕES:

Um dos maiores problemas, ou dificuldades, no conceito de stealth addresses é o processo de parsing, onde o usuário precisa escanear todos os eventos emitidos a rede, justamente porque nesse processo, são realizadas as diversas  operações matemáticas que eu mencionei anteriormente que, quando são poucas transações escaneadas, o processo é rapidinho, dependendo do tamanho, são milésimos de segundos e nem dá pra perceber, o problema é que, se pra cada transação que for ralizada na rede for criado um novo endereço stealth, tomando como base o número de transações que a gente tem em outros serviços prestados pelo Banco, teremos no mínimo, centenas de endereços stealth sendo criados por segundo, o que, a um longo prazo, que talvez não seja tão longo assim, pode fazer com que o processo de parsing demore horas ou talvez até dias, e esse tempo vai aumentando e aumentando a medida que mais transações são realizadas na rede.

Pra efeito de exemplificação e base, a gente tem um teste realizado com uma implementação de endereços stealth implementados na rede da Ethereum, implementação batizada de Umbra, em que, o processo de parsing demorou, no total, cerca de 5 segundos para ser realizado quando foram escaneados 80 mil endereços stealth.

E eu acredito, mas, claro, estou só imaginando aqui, que, quando a nossa rede estiver aberta ao público, vamos ter bem mais que 80 mil transações realizadas por minuto na rede, mas vamos supor que tenhamos apenas 80 mil transações realizadas por minuto na rede do Banco, a gente vai ter assim, que, a cada minuto de transações realizadas, o tempo que vai levar pra ser realizado o processo de parsing aumenta em cerca de 5 segundos, agora imagina o quanto de tempo que vai demorar pra realizar esse processo depois de 1 mês.

Agora, mais um adendo:
Eu não falei muito sobre as chaves de scanning e de spending, mas elas são utilizadas, basicamente, na criação do stealth meta-address, que é de onde derivam os stealth addresses, e posteriormente a chave privada de scanning é utilizada no processo de scanning da rede, daí vem o nome, aliás.
E a chave privada de spending é usada pelo dono do stealth address para transacionar os tokens depositados no endereço, daí vem o nome também, o usuário utiliza a chave pra "gastar" os tokens, pra fazer o spending.

Um adendo:

Todo esse processo é resumidamente e basicamente, o processo de criação de uma nova carteira, sem nenhuma ligação direta com a identidade do usuário a quem a carteira pertence, e que tem como objetivo úico ser usada somente em uma única transação e descartada após cumprir seu objetivo.
Sendo assim, a "novidade" nesse conceito, é basicamente, permitir que o pagador possa gerar uma nova carteira em nome do recebedor, a qual somente o recebedor terá posse e somente ele será capaz de transacionar os tokens depositados na carteira, eliminando, assim, a necessidade do pagador, por conta própria, gerar uma nova carteira pra cada transação que ele queira realizar sem utilizar uma carteira vinculada à identidade dele, e todo o processamento que eu expliquei é basicamente pra permitir que isso seja possível e feito de forma segura e mais prática.



No entanto, também vale notar que o pagador ainda saberá que o endereço furtivo pertence a aquela pessoa, afinal, normalmente, como é idealizado hoje em dia, o pagador precisa de algum endereço da rede que pertence ao recebedor, porque pra localizar o meta endereço furtivo do recebedor, ele precisa do tal endereço.
 




PRA POR NO SLIDE:

Considerações, problemas de performance e talvez um diagrama

Os endereços stealth adicionam mais uma camada de complexidade nas transações, podendo, assim,



COMO ENDEREÇOS FURTIVOS FUNCIONAM?

--------------

Before and After Scenarios:
Show blockchain explorer views of traditional transactions vs. stealth address transactions to highlight the privacy difference.


