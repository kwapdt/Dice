Vamos falar sobre os stealth addresses, que, pelo que eu entendi, é mais uma das várias soluções que tem como ideia garantir uma melhor privacidade e sigilo de informações sensíveis dos usuários, que estão sendo exploradas, tanto pelo Banco Central quanto o nosso Banco, o Banco do Brasil.


A ideia dos stealth addresses é, basicamente, aumentar a privacidade de transações realizadas em redes blockchain.
A ideia é permitir que usuários realizem transações sem revelaar a verdadeira identidade da parte passiva da transação, ou seja, do recebedor, assim, aumentando a confidencialidade, segurança das informações sensíveis do usuário.

Imaginando um cenário prático de como seria feita uma transação hoje em dia em uma rede pública sem utilizar os stealth addresses, vamos imaginar que o Luciano, por algum motivo queira mandar 10 DREX pra mim: eu vou mandar o endereço da minha carteira pra ele, e ele, por exemplo, utilizando uma MetaMask ou algo parecido, vai transacionar esses 10 DREX pro endereço da minha carteira.
Beleza, o problema é que, agora, como o Luciano tem o endereço da minha carteira e sabe que aquela carteira é minha, ou seja, ele sabe a identidade do dono daquela carteira, por consequencia, ele agora conseguiria ter o meu histórico completo de transações nessa rede específica desde a minha primeira transação, assim, ele tem acesso à minha vida financeira inteira nessa rede, além de também poder monitorar todas as minhas futuras transações e pode até mesmo saber o que eu vou fazer com esses 10 DREX que ele me enviou, além de também ter acesso a toda quantia de tokens, NFTs e etc que eu tenho nessa carteira no momento.
E é claro, isso não parece algo ideal.
Sem falar que, é claro, não precisa ser algo tão direto e "íntimo" assim, porque, se eu depositar tokens na minha conta da Binance utilizando essa carteira, por exemplo, como a Binance já tem toda nossa identidade, com CPF, RG, endereço e número de telefone, a Binance, de certo modo, sabe que aquela carteira na blockchain é minha e, por consequência, também tem acesso a todas essas informações que eu citei anteriormente.

Okay, agora que a gente já entendeu o problema, vamos ver então uma possível solução, vamos falar sobre os stealth addresses.

Bom, vamos lá:

Stealth addresses são, de certo modo, endereços únicos e descartáveis (bom, se a ideia é realmente ser descartável, ainda é motivo de discussão.) criados para serem utilizados para cada transação que se deseja realizar.

Assim, a ideia do stealth address é basicamente, criar um endereço único que será utilizado como parte passiva de cada transação individual realizada, mesmo que a transação seja direcionada à mesma pessoa que alguma outra transação anterior, também realizada por meio de stealth addresses.

Assim, mesmo que duas transações diferentes sejam direciondas a mesma pessoa, as transações aparecerão na rede como se fossem direcionadas a pessoas diferentes, já que os endereços alvos das transações serão diferentes, eliminando assim qualquer padrão.

Numa transação utilizando endereços furtivos temos quatro componentes principais:
Stealth meta-addresses: Um par de chaves públicas criadas pela pessoa alvo da transação.
Par de chaves efêmeras: Um par de chaves geradas pelo pagador, o par de chaves efemeras é único e criado para cada transação que se deseja realizar.
Chave secreta compartilhada: Gerada usando a chave pública do recebedor(ou seja, o endereço público do recebedor) e a chave privada efêmera, que no caso, seria a chave privada do par de chaves que a gente chama de efêmeras, porque a ideia é ser temporária.

Além desses três pontos, a gente tem também, é claro, os próprios stealth addresses:
E, agora que já citamos os stealth addresses, vamos falar sobre eles e como eles funcionam:

1 - Como primeiro passo, o recebedor gera e publica o próprio stealth meta-address na rede.

2 - Depois, o pagador identifica esse stealth meta-address e dele, o pagador deriva um novo stealth address que será utilizado nessa transação.
o utiliza para criar um novo stealth address para a transação.

3 - O pagador então envia as quantias, valores, tokens, NFTs para o endereço furtivo criado no passo anterior.

4 - Agora, então, o recebedor entra em ação, agora é a vez dele:
O recebedor vai "escanear/percorrer" a rede blockchain realizando diversas operações matemáticas utilizando algumas das chaves, por todos, sim, todos, os endereços furtivos já gerados na rede para verificar a posse dos stealth addresses.

Em outras palavras, ele vai percorrer todos os endereços furtivos gerados na rede pra descobrir se cada um deles pertence a ele e se ele pode transferir os tokens depositados nesse endereço e realizar transações com o enderereço furtivo.

Um adendo: como essas operações matemáticas são realizadas utilziando algumas chaves privadas do recebedor, ou seja, informações que, pelo menos, em um cenário ideal, só ele teria conhecimento e acesso, não existe a possibilidade de outra pessoa realizar esse processo de escaneamento em um endereço específico do qual ele não tem posse e transferir os tokens ali depositados sem que o usuário tenha posse da chave privada pertencente ao recebedor.

Agora, vamos falar um pouco mais sobre os motivos de utilizar stealth addresses.
Primeiro, os stealth addresses permitem que transações sejam realizadas sem que seja possível identificar um link entre o pagador e o recebedor, porque, ao invés da transação ser realizada direcionada a uma carteira central do recebedor, como comumente acontece hoje em dia, onde um usuário cria uma carteira na blockchain e utiliza essa mesma carteira por um longo tempo, realizando diversas e diversas transações utilizando a mesma carteira, e, assim, criando um histórico de transações imutáveis ao longo do tempo, cada transação individual realizada pelo usuário, seja como recebedor o ou pagador, todas essas transações são realizadas utilizando endereços únicos e diferentes um dos outros, assim, não é criado um ponto central onde transações são iniciadas ou "recebidas", entre aspas, mitigando os riscos que nascem quando é utilizado o mesmo endereço para múltiplas transações.



Why Use Stealth Addresses?

Enhanced Privacy: Transactions can't be easily linked to a single public address.
Improved Fungibility: Makes it harder to trace the history of coins, enhancing their fungibility.
Protection Against Address Reuse: Mitigates risks associated with reusing the same address for multiple transactions.
Reduced Correlation: Makes it more difficult for third parties to correlate transactions and build user profiles.

DESAFIOS E CONSIDERAÇÕES:

Um dos maiores problemas, ou dificuldades, no conceito de stealth addresses é o processo de parsing, onde o usuário precisa escanear a rede, justamente porque nesse processo, são realizadas as operações matemáticas que eu mencionei anteriormente que, quando são poucas transações escaneadas, o processo é rapidinho, dependendo do tamanho, são milésimos e nem dá pra perceber, o problema é que, se pra cada transação que for ralizada na rede for criado um novo endereço stealth, tomando como base o número de transações que a gente tem em outros serviços prestados pelo Banco, teremos no mínimo, centenas de endereços stealth sendo criados por segundo, o que, a um longo prazo, que talvez não seja tão longo assim, pode fazer com que o processo de parsing demore horas ou talvez até dias, e esse tempo vai aumentando e aumentando a medida que mais transações são realizadas na rede.
Pra efeito de exemplificação e base, a gente tem um teste realizado com uma implementação de endereços stealth implementados na rede da Ethereum em que, o processo de parsing demorou, no total, cerca de 5 segundos para ser realizado quando foram escaneados 80 mil endereços stealth.
E eu acredito, mas não sei de verdade, que, quando a nossa rede estiver aberta ao público, vamos ter bem mais que 80 mil transações realizadas por minuto na rede, mas vamos supor que tenhamos apenas 80 mil transações realizadas por minuto, a gente vai ter assim, que, a cada minuto de transações realizadas, o tempo que vai levar pra ser realizado o processo de parsing aumenta em cerca de 5 segundos, agora imagina o quanto de tempo que vai demorar pra realizar esse processo depois de 1 mês.

Agora, mais um adendo:
Eu não falei muito sobre as chaves de scanning e de spending, mas elas são utilizadas, basicamente, na criação do stealth meta-address, que é de onde derivam os stealth addresses, e posteriormente a chave de scanning é utilizada no processo de scanning da rede, daí vem o nome, aliás.
E a chave de spending é usada na do dono do stealth address transacionar os tokens depositados no endereço, daí vem o nome também, o usuário utiliza a chave pra "gastar" os tokens, pra fazer o spending.





PRA POR NO SLIDE:

Considerações, problemas de performance e talvez um diagrama

Os endereços stealth adicionam mais uma camada de complexidade nas transações, podendo, assim,
